<html>
    <head>
        <script src="/dnode.js" type="text/javascript"></script>
        <script type="text/javascript">
            window.onload = function() {
                DNode(function() {
                    this.showServerTime = function(time) {
                        document.getElementById('server-time').innerHTML = time;
                    };
                }).connect(function (remote) {
                    var updateCounter = function() {
                        remote.cget(function (n) {
                            document.getElementById('counter').innerHTML = n;
                        });
                    };

                    document.getElementById('clicker').onclick = updateCounter;
                    updateCounter();
                 });
             };
        </script>
    </head>
    <body>
        <a href="#" id="clicker">Click</a>
        <span id="counter"></span>
        <span id="server-time"></span>
    </body>
</html>
